<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Network analysis | The Food Items Network</title><script src=https://cdn.tailwindcss.com></script><script src=https://unpkg.com/feather-icons></script><script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><style type=text/tailwindcss>
    @layer base {
        body {
          @apply font-sans;
          @apply leading-normal;
          @apply tracking-normal;
          background-image: url('https://hips.hearstapps.com/hmg-prod/images/how-to-save-money-on-groceries-1673472736.png?crop=1.00xw:0.755xh;0,0.190xh&resize=1200:*');
          background-size: cover;
          background-attachment: fixed;
          background-color: rgba(255, 255, 255, 0.696);
          padding: 10px;
        }
        p {
          @apply py-6;
        }
        a {
          @apply text-green-500;
          @apply no-underline;
          @apply hover:underline;
        }
        h1 {
          @apply py-2;
          @apply font-sans;
          @apply text-2xl;
        }
        h2 {
          @apply py-2;
          @apply font-sans;
          @apply text-xl;
        }
        h3 {
          @apply py-2;
          @apply font-sans;
          @apply text-lg;
        }
        ol {
          @apply px-8;
          @apply list-decimal;
        }
        ul {
          @apply px-8;
          @apply list-disc;
        }
        blockquote {
          @apply border-l-4; 
          @apply border-green-500;
          @apply italic;
          @apply my-8;
          @apply pl-8;
          @apply md:pl-12;
        }
        pre {
          @apply bg-gray-900;
          @apply rounded;
          @apply text-white; 
          @apply font-mono;
          @apply text-base;
          @apply my-4;
          @apply p-2;
          @apply md:p-4;
        }
        table {
          @apply shadow-md;
          @apply rounded-lg;
          @apply m-auto;
          @apply my-8;
        }
        thead {
          @apply bg-gray-50;
        }
        th {
          @apply py-3;
          @apply px-6;
          @apply text-xs;
          @apply font-medium;
          @apply tracking-wider;
          @apply text-left;
          @apply text-gray-700;
          @apply uppercase;
        }
        tr {
          @apply bg-white;
          @apply border-b;
        }
        td {
          @apply py-4;
          @apply px-6;
          @apply text-sm;
          @apply font-medium;
          @apply text-gray-900;
          @apply whitespace-nowrap;
        }
        img {
          @apply m-auto;
          @apply object-cover;
        }
        .footer-icon {
          width: 64px; 
          height: 64px;
          @apply mx-4;
        }
      }
    </style></head><body><nav id=header class="fixed w-full z-10 top-0"><div id=progress class="h-1 z-20 top-0" style="background:linear-gradient(to right,#4dc0b5 var(--scroll),transparent 0)"></div><div class="w-full md:max-w-4xl mx-auto flex flex-wrap items-center justify-between mt-0 py-3"><div class=pl-4><a class="text-gray-900 text-base no-underline hover:no-underline font-extrabold text-xl" href=https://karolineklan.github.io/CSS_Final_Project_Group9/>The Food Items Network</a></div><div class="block lg:hidden pr-4"><button id=nav-toggle class="flex items-center px-3 py-2 border rounded text-gray-500 border-gray-600 hover:text-gray-900 hover:border-green-500 appearance-none focus:outline-none"><svg class="fill-current h-3 w-3" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Menu</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"/></svg></button></div><div class="w-full flex-grow lg:flex lg:items-center lg:w-auto hidden lg:block mt-2 lg:mt-0 bg-gray-100 md:bg-transparent z-20" id=nav-content><ul class="list-reset lg:flex justify-end flex-1 items-center list-none px-0"><li><a class="inline-block py-2 px-4 text-gray-900 no-underline" href=../data-description>Data</a></li><li><a class="inline-block py-2 px-4 text-gray-900 no-underline" href=../network-analysis>Network</a></li><li><a class="inline-block py-2 px-4 text-gray-900 no-underline" href=../text-analysis>Text</a></li></ul></div></div></nav><div class="container bg-white opacity-95 w-full mx-auto pt-20" style="max-width:calc(64rem + 75.6px)"><div class="w-full px-4 md:px-6 text-xl text-gray-800 leading-normal" style=font-family:Georgia,serif;background-color:rgba(255,255,255,.95)><div class=font-sans><h1 class="font-bold font-sans break-normal text-gray-900 pt-6 pb-2 text-3xl md:text-4xl">Network analysis</h1></div><p>In the network analysis we will delve into details giving us insights into consumer behavior in terms of how food item are purchased together. As an overview we are going to investigate the following:</p><ol><li>The network properties to understand the overall structure that the foods-network follow by looking at the degree distribution.</li><li>Investigate Assortativity to see if there is a tendency that some nodes in the network connect to other nodes that are similar in degree or based on other attributes like whether they are ecological.</li><li></li><li></li></ol><p>Each node represents a food item in one of 8 different categories:</p><figure><img src=../images/Categories_overview.png width=80% alt=Scraping><figcaption style=text-align:center;font-style:italic></figcaption></figure><p>Each link between the nodes represent if a product is in the top 10 list of frequently bought items with another product. When using the <a href=https://developer.sallinggroup.com/api-reference#frequently-bought-together>frequently bought together endpoint</a> from the <a href=https://developer.sallinggroup.com/api-reference>Salling Group API</a> every time an item is called a list of the 10 items that most often is bought together with the product is returned and is ordered by descending relevance. After filtering the data and creating the network as an undirected graph as explained in the data description section we see the following:</p><blockquote><center>The network is fully connected and has 9.755 nodes and 74.180 links<center></blockquote><h1 id=__1-degree-distribution__><strong>1. Degree distribution</strong></h1><p>The degree of a node describes how many edges are connected to a node. We take a look at the degree distribution of the network in order to investigate if it has properties of a real-world social network. To do this we use a randomized network that has the same amount of nodes and links as the food-network but where the nodes are randomly linked with the same propability <em>p</em> as in the food-network. Go to the explainer notebook to get more insights into the theory behind the creation of this random-network as a baseline. The degree distribution of a network, P(k), tells us the probability that a randomly chosen node will have degree k.</p><figure><img src=../images/Degree_Distribution_Plot.png width=90% alt=Scraping><figcaption style=text-align:center;font-style:italic;font-size:smaller>Figure. 3: The degree distribution of the Food-network compared to the random network with logarithmic binding.</figcaption></figure><p>From the degree distribution it appears that the Foods Network (in green) resembles a power law distribution after degree 10 as the distribution approximately resembles a straight line in log-log scale. This is a property of real-world social networks that suggest that there are a few highly connected nodes (hubs) in the food-items network. The reason this happens after degree 10 is because every node is forced to have at least 10 neighbors as this is what is returned from the API call. In the data cleaning all neighboring items that does not belong in the foods-category is removed, which results in some nodes getting a degree less than 10.
The average degree of the foods network is affected by these major hubs, which is why the median is a better sample estimate for the population of a heavy-tailed network like this. Comparing the foods network to the random network (in red) we see that the random network model is more symmetrically distributed and predicts a larger number of nodes around the average degree ‹k› than seen in the Foods-network.</p><p>The high-degree nodes in the Foods Network likely represent items that are versatile or have broad appeal, causing them to appear frequently on the &ldquo;frequently bought together&rdquo; list across various other items. For example, common ingredients like milk, bread, or eggs might be expected to have higher degrees. We delve further into the specific items in the next sections.</p><h1 id=__2-assortativity__><strong>2. Assortativity</strong></h1><p>Assortativity can help give insights in what items tend to get bought together, as explains a preference for a network&rsquo;s nodes to attach to others that are similar. In this section we will look into degree assortativity and assortativity that is related to specific attributes, in our case we will be looking at the attributes &lsquo;Category&rsquo;, &lsquo;Ecology&rsquo; and &lsquo;Price&rsquo;.</p><p>In order to compare if the assortativity of the food-network is significant from random we compare it to 100 different random networks, where the assortativity has been broken by a configuration model that uses the <em>double edge swap</em> algorithm to ensure each node retains its original degree but with altered connections.</p><p>The results from the analysis is shown in the table below, and the details can be seen in the explainer notebook:</p><table><thead><tr><th><strong>Assortativity Coefficient</strong></th><th style=text-align:center><strong>Food Network</strong></th><th style=text-align:center><strong>Average Random Network</strong></th></tr></thead><tbody><tr><td>Degree Assortativity Coefficient</td><td style=text-align:center>0.054</td><td style=text-align:center>-0.034</td></tr><tr><td>Category Assortativity Coefficient</td><td style=text-align:center>0.494</td><td style=text-align:center>-0.001</td></tr><tr><td>Ecology Assortativity Coefficient</td><td style=text-align:center>0.595</td><td style=text-align:center>-0.002</td></tr><tr><td>Price Assortativity Coefficient</td><td style=text-align:center>0.087</td><td style=text-align:center>-0.000</td></tr></tbody></table><div style=text-align:center;font-style:italic;font-size:smaller>Table 1. Assortativity coefficients of the food network compared to the average of the 100 random networks</div><p>Our findings show that the average assortativity coefficients of the random network is very low, close to zero which is also what we would expect.</p><p>If the degree assortativity coefficient is high it mean that nodes tend to be connected with other nodes with similar degree values. In our results we found this value to be very small. Although it is modest it is still different from random indicating that there might be a slight preference for items with similar degrees of connectivity to be purchased together. For example popular items might commonly appear in the same baskets. The same applies to the Price assortativity where the value is pretty low, but still indicating that expensive products might tend to get purchased with other expensive These results however is not as convincing as for the Category and Ecology Assortativity.</p><p>When considering the attribute assortativity on the category and the ecology attribute it is apparent that these values are very significant different than the random. This suggest that products within the same categories tend to get purchased together. Additionally eco products tend to get purchased with other eco products as well, which is also what we could expect considering what we anticipate from certain consumer behaviours.</p><p>We selected a random example of an eco-product to inspect its neighbors. The Ecological minced chicken with the product ID 71136 and its neighbors is seen below:</p><figure><img src=../images/Ecology_assort.png width=70% alt=Scraping><figcaption style=text-align:center;font-style:italic;font-size:smaller>Figure. 4: An example of an ecological product and its 10 neighbors.</figcaption></figure>Figure 4 illustrates how an ecological product is connected to other eco-products, as all its neighbors in this example are also ecological. Additionally, this demonstrates that many neighbors of this product within the meat category are also in the same category.
This example supports the conclusions drawn from the assortativity analysis, indicating a general trend in the entire network where items within the same category and eco-products tend to be purchased together.<h1 id=__3-communities__><strong>3. Communities</strong></h1><p>By identifying communities, we can gain insights into how the certain types of foods are grouped together. This helps in understanding purchasing patterns and preferences that consumers make when going grocery shopping. Because the food</p><figure><img src=../images/Graph_communities.png width=60% alt=Scraping><figcaption style=text-align:center;font-style:italic;font-size:smaller>Figure. 5: .</figcaption></figure><table><thead><tr><th style=text-align:center><strong>Community ID</strong></th><th style=text-align:center><strong>Community label (made in textanalysis)</strong></th><th style=text-align:center><strong>Number of Nodes</strong></th></tr></thead><tbody><tr><td style=text-align:center>16</td><td style=text-align:center><span style=color:blue>Everyday</span></td><td style=text-align:center>1742</td></tr><tr><td style=text-align:center>24</td><td style=text-align:center><span style=color:#ff8c00>Organic</span></td><td style=text-align:center>1367</td></tr><tr><td style=text-align:center>18</td><td style=text-align:center><span style=color:#228b22>Beverages</span></td><td style=text-align:center>948</td></tr><tr><td style=text-align:center>19</td><td style=text-align:center><span style=color:#f0f>Indulgence</span></td><td style=text-align:center>899</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center><span style=color:cyan>Entertaining</span></td><td style=text-align:center>595</td></tr></tbody></table><div style=text-align:center;font-style:italic;font-size:smaller>Table 2. Overview of the size of the top 5 largest communities in the dataset with labels that are made in the NLP-text analysis section</div><h1 id=__4-centrality__><strong>4. Centrality</strong></h1><p>JACK SKRIVER HER!</p><hr class="border-b-2 border-gray-400 mt-8 mx-4"><div class="font-sans flex justify-between content-center px-4 pb-12"><div class=text-left><p><a href=../data-description class="break-normal text-base md:text-sm text-green-500 font-bold no-underline hover:underline">&lt;
Previous Page</a></p></div><div class=text-right><p><a href=../text-analysis class="break-normal text-base md:text-sm text-green-500 font-bold no-underline hover:underline">Next
Page ></a></p></div></div></div></div><footer class="bg-white border-t border-gray-400 shadow"><div class="container max-w-4xl mx-auto flex py-8"><div class="w-full mx-auto flex flex-col"><div class="flex w-full"><div class="px-8 mx-auto"><ul class="pt-3 list-none px-0 flex"><li><a class="text-gray-600 no-underline py-2" href=../explainer-notebook.html><i data-feather=file-text class=footer-icon></i></a></li><li><a class="text-gray-600 no-underline py-2" href=https://github.com/KarolineKlan/CSS_Final_Project_Group9><i data-feather=github class=footer-icon></i></a></li><li><a class="text-gray-600 no-underline py-2" href=https://drive.google.com><i data-feather=hard-drive class=footer-icon></i></a></li></ul></div></div><div class="w-full mx-auto text-center"><ul class="list-reset items-center text-md py-6 list-none flex"><li class=mx-auto><p class="inline-block text-gray-600 mx-4 font-semibold capitalized">Karoline Klan Hansen</p></li><li class=mx-auto><p class="inline-block text-gray-600 mx-4 font-semibold capitalized">Kristoffer Helms Kjaer</p></li><li class=mx-auto><p class="inline-block text-gray-600 mx-4 font-semibold capitalized">Jacob Seerup</p></li></ul></div></div></div></footer><script>var h=document.documentElement,b=document.body,st='scrollTop',sh='scrollHeight',progress=document.querySelector('#progress'),scrollpos=window.scrollY,header=document.getElementById("header"),navcontent=document.getElementById("nav-content"),scroll;document.addEventListener('scroll',function(){scroll=(h[st]||b[st])/((h[sh]||b[sh])-h.clientHeight)*100,progress.style.setProperty('--scroll',scroll+'%'),scrollpos=window.scrollY,scrollpos>10?(header.classList.add("bg-white"),header.classList.add("shadow"),navcontent.classList.remove("bg-gray-100"),navcontent.classList.add("bg-white")):(header.classList.remove("bg-white"),header.classList.remove("shadow"),navcontent.classList.remove("bg-white"),navcontent.classList.add("bg-gray-100"))}),document.getElementById('nav-toggle').onclick=function(){document.getElementById("nav-content").classList.toggle("hidden")},feather.replace()</script></body></html>